                                            <!-- Profile selection -->
                                            <div *ngIf="isModeSelected(mode) && mode.profiles && mode.profiles.length > 0" 
                                                 class="ml-8 mt-2">
                                                <div class="flex flex-col gap-2">
                                                    <div *ngFor="let profile of mode.profiles" 
                                                         class="flex items-center gap-2">
                                                        <p-radioButton
                                                            [name]="'profile_' + mode.id"
                                                            [value]="profile.id"
                                                            [formControl]="getProfileFormControl(mode)"
                                                            [checked]="getCurrentProfileId(mode) === profile.id"
                                                            (onChange)="console.log('Profile changed:', $event)">
                                                        </p-radioButton>
                                                        <label class="text-sm">{{profile.display_name || profile.name}}</label>
                                                    </div>
                                                </div>
                                            </div> 