<p-speedDial [model]="items" direction="up" buttonClassName="p-button-info"
    [showIcon]="'pi pi-info'" [hideIcon]="'pi pi-times'"
    [tooltipOptions]="{ tooltipPosition: 'left' }"
    id="credits-sidebar"></p-speedDial>

<p-dialog [(visible)]="showCreditsDialog" [modal]="true"
    styleClass="credits-dialog" [closable]="true" [draggable]="false"
    [resizable]="false"
    [style]="{width: '90vw', maxWidth: '1200px', height: '90vh'}"
    [contentStyle]="{'padding': '0', 'overflow': 'hidden'}">

    <div class="credits-container">
        <!-- Header Section -->
        <div class="credits-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <i class="pi pi-map"></i>
                    </div>
                    <div class="logo-text">
                        <h1 class="app-title">mobi.mapr</h1>
                        <p class="app-subtitle">Baden-Württemberg Institut für
                            Nachhaltige Mobilität</p>
                    </div>
                </div>
                <p-button label="bw-im.de besuchen" icon="pi pi-external-link"
                    styleClass="p-button-outlined p-button-sm visit-button"
                    [pTooltip]="'CREDITS.VISIT_WEBSITE' | translate"
                    (onClick)="openLink('https://bw-im.de')">
                </p-button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="credits-content">
            <div class="components-grid">
                <!-- Visualisierung -->
                <div class="component-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <i class="pi pi-eye"></i>
                        </div>
                        <h2 class="category-title">Visualisierung</h2>
                    </div>
                    <div class="components-list">
                        <div class="component-card"
                            *ngFor="let item of visualComponents"
                            [pTooltip]="item.name"
                            (click)="item.url ? openLink(item.url) : null"
                            [class.clickable]="!!item.url">
                            <div class="component-icon">
                                <i [class]="item.icon"></i>
                            </div>
                            <div class="component-info">
                                <h3 class="component-name">{{item.name}}</h3>
                            </div>
                            <div class="component-action" *ngIf="item.url">
                                <i class="pi pi-external-link"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Daten -->
                <div class="component-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <i class="pi pi-database"></i>
                        </div>
                        <h2 class="category-title">Daten</h2>
                    </div>
                    <div class="components-list">
                        <div class="component-card"
                            *ngFor="let item of dataComponents"
                            [pTooltip]="item.name"
                            (click)="item.url ? openLink(item.url) : null"
                            [class.clickable]="!!item.url">
                            <div class="component-icon">
                                <i [class]="item.icon"></i>
                            </div>
                            <div class="component-info">
                                <h3 class="component-name">{{item.name}}</h3>
                            </div>
                            <div class="component-action" *ngIf="item.url">
                                <i class="pi pi-external-link"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backend -->
                <div class="component-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <i class="pi pi-server"></i>
                        </div>
                        <h2 class="category-title">Backend</h2>
                    </div>
                    <div class="components-list">
                        <div class="component-card"
                            *ngFor="let item of backendComponents"
                            [pTooltip]="item.name"
                            (click)="item.url ? openLink(item.url) : null"
                            [class.clickable]="!!item.url">
                            <div class="component-icon">
                                <i [class]="item.icon"></i>
                            </div>
                            <div class="component-info">
                                <h3 class="component-name">{{item.name}}</h3>
                            </div>
                            <div class="component-action" *ngIf="item.url">
                                <i class="pi pi-external-link"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Routing -->
                <div class="component-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <i class="pi pi-directions"></i>
                        </div>
                        <h2 class="category-title">Routing</h2>
                    </div>
                    <div class="components-list">
                        <div class="component-card"
                            *ngFor="let item of routingComponents"
                            [pTooltip]="item.name"
                            (click)="item.url ? openLink(item.url) : null"
                            [class.clickable]="!!item.url">
                            <div class="component-icon">
                                <i [class]="item.icon"></i>
                            </div>
                            <div class="component-info">
                                <h3 class="component-name">{{item.name}}</h3>
                            </div>
                            <div class="component-action" *ngIf="item.url">
                                <i class="pi pi-external-link"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cities & Open Data -->
                <div class="component-category">
                    <div class="category-header">
                        <div class="category-icon">
                            <i class="pi pi-building"></i>
                        </div>
                        <h2 class="category-title">Stadtteil und Bezirksdaten
                        </h2>
                    </div>
                    <div class="components-list">
                        <div class="component-card"
                            *ngFor="let item of citiesComponents"
                            [pTooltip]="item.name"
                            (click)="item.url ? openLink(item.url) : null"
                            [class.clickable]="!!item.url">
                            <div class="component-icon">
                                <i [class]="item.icon"></i>
                            </div>
                            <div class="component-info">
                                <h3 class="component-name">{{item.name}}</h3>
                            </div>
                            <div class="component-action" *ngIf="item.url">
                                <i class="pi pi-external-link"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="credits-footer">
            <div class="acknowledgment">
                <div class="acknowledgment-icon">
                    <i class="pi pi-heart"></i>
                </div>
                <div class="acknowledgment-text">
                    <h3>Danksagung</h3>
                    <p>Ein großer Dank gilt an alle Komponenten, die wir für
                        dieses Projekt nutzen konnten.</p>
                </div>
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog [(visible)]="showLanguageDialog" [modal]="true"
    [style]="{width: '300px'}" header="Sprache wählen">
    <div class="language-list">
        <div *ngFor="let lang of languages" class="language-item"
            [class.selected]="currentLang === lang.code"
            (click)="switchLanguage(lang.code)">
            <div class="language-content">
                <i class="pi pi-check" *ngIf="currentLang === lang.code"></i>
                <i class="pi pi-circle" *ngIf="currentLang !== lang.code"></i>
                <span class="language-name">{{ lang.name }}</span>
            </div>
        </div>
    </div>
</p-dialog>

<p-dialog [(visible)]="showShortcutsDialog" [modal]="true" header="Tastenkürzel"
    [style]="{width: '50vw'}" [draggable]="false" [resizable]="false">
    <div class="shortcuts-container">
        <div class="shortcut-item" *ngFor="let shortcut of shortcuts">
            <span class="shortcut-key">{{shortcut.key}}</span>
            <span class="shortcut-description">{{shortcut.description}}</span>
        </div>
    </div>
</p-dialog>